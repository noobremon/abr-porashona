<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Parent Dashboard - EduNet</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="stylesheet" href="parent.css">
    <style>
        .content-grid .grid-card {
            aspect-ratio: 1 / 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 1rem;
            text-decoration: none;
        }
        .grid-card .card-title {
            margin-top: 1rem;
        }
    </style>
</head>
<body>

    <div id="parent-bg-animation"></div>

    <div class="parent-dashboard-container">
        <aside class="sidebar">
            <div class="sidebar-top">
                <div class="sidebar-header">
                    <div class="logo">
                        EduNet
                    </div>
                </div>
                <nav class="sidebar-nav">
                    <a href="parent.html" class="nav-link active-link">
                        <i class="fas fa-home"></i>
                        <span>Home</span>
                    </a>
                    <a href="accademics.html" class="nav-link">
                        <i class="fas fa-chalkboard-teacher"></i>
                        <span>Academics</span>
                    </a>
                    <a href="pattedancd.html" class="nav-link">
                        <i class="fas fa-calendar-check"></i>
                        <span>Attendance</span>
                    </a>
                    <a href="announcement.html" class="nav-link">
                        <i class="fas fa-bullhorn"></i>
                        <span>Announcements</span>
                    </a>
                    <a href="presult.html" class="nav-link">
                        <i class="fas fa-poll-h"></i>
                        <span>Results</span>
                    </a>
                    <a href="insight.html" class="nav-link">
                        <i class="fas fa-chart-line"></i>
                        <span>Insights</span>
                    </a>
                </nav>
            </div>
            <div class="sidebar-footer">
                <a href="index.html" class="btn-logout">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>Logout</span>
                </a>
            </div>
        </aside>

        <main class="main-content">
            <header class="main-header">
                <div class="menu-toggle">
                    <i class="fas fa-bars"></i>
                </div>
                <div class="header-details">
                    <div class="parent-welcome">
                        <i class="fas fa-user-shield"></i>
                        <span>Welcome, <strong id="userName">Parent</strong></span>
                    </div>
                    <div class="child-monitoring">
                        <i class="fas fa-child"></i>
                        <span>Monitoring Academics of: <strong id="studentName">Student</strong></span>
                    </div>
                </div>
            </header>

            <section class="content-grid">
                <a href="accademics.html" class="grid-card card-academics animate-on-load">
                    <div class="card-icon">
                        <i class="fas fa-book-reader"></i>
                    </div>
                    <h3 class="card-title">Academics</h3>
                    <p class="card-info">Child's performance overview</p>
                </a>

                <a href="pattedancd.html" class="grid-card card-attendance animate-on-load">
                    <div class="card-icon">
                        <i class="fas fa-calendar-alt"></i>
                    </div>
                    <h3 class="card-title">Attendance</h3>
                    <p class="card-info">Daily/monthly attendance records</p>
                </a>

                <a href="announcement.html" class="grid-card card-announcements animate-on-load">
                    <div class="card-icon">
                        <i class="fas fa-broadcast-tower"></i>
                    </div>
                    <h3 class="card-title">Announcements</h3>
                    <p class="card-info">Notices, circulars, and updates</p>
                </a>

                <a href="presult.html" class="grid-card card-results animate-on-load">
                    <div class="card-icon">
                        <i class="fas fa-file-invoice"></i>
                    </div>
                    <h3 class="card-title">Results</h3>
                    <p class="card-info">Exam results & progress reports</p>
                </a>

                <a href="insight.html" class="grid-card card-insights animate-on-load">
                    <div class="card-icon">
                        <i class="fas fa-chart-pie"></i>
                    </div>
                    <h3 class="card-title">Insights</h3>
                    <p class="card-info">Overall performance trends</p>
                </a>
            </section>
        </main>
    </div>

    <script>
    // Check if user is logged in
    document.addEventListener('DOMContentLoaded', function() {
        const user = JSON.parse(localStorage.getItem('currentUser') || 'null');
        
        if (!user || !user.loggedIn || user.role !== 'parent') {
            window.location.href = 'index.html';
            return;
        }
        
        // Display user's name and student's name
        if (user.name) {
            document.getElementById('userName').textContent = user.name;
        }
        if (user.studentName) {
            document.getElementById('studentName').textContent = user.studentName;
        }
        
        // Handle logout
        const logoutBtn = document.querySelector('.btn-logout');
        if (logoutBtn) {
            logoutBtn.addEventListener('click', function(e) {
                e.preventDefault();
                // Clear user session
                if (user) {
                    user.loggedIn = false;
                    localStorage.setItem('currentUser', JSON.stringify(user));
                }
                // Redirect to login
                window.location.href = 'index.html';
            });
        }
    });
</script>
</body>
</html>